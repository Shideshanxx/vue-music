{"version":3,"sources":["webpack:///./src/api/recommend.js","webpack:///./src/components/music-list/music-list.vue?08b2","webpack:///src/components/music-list/music-list.vue","webpack:///./src/components/music-list/music-list.vue?ab3c","webpack:///./src/components/music-list/music-list.vue","webpack:///./src/components/music-list/music-list.vue?1e44","webpack:///./src/components/disc/disc.vue?c59f","webpack:///src/components/disc/disc.vue","webpack:///./src/components/disc/disc.vue?a4c9","webpack:///./src/components/disc/disc.vue"],"names":["debug","getRecommend","url","data","Object","assign","commonParams","platform","hostUin","needNewCode","inCharset","format","Math","random","replace","axios","get","params","then","res","getDiscList","sin","ein","sortId","categoryId","rnd","Promise","resolve","getSongList","disstid","type","json","utf8","onlysong","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","back","domProps","_s","title","ref","style","directives","name","rawName","value","songs","length","expression","_v","attrs","listenScroll","probeType","scroll","rank","selectItem","staticRenderFns","mixins","props","bgImage","String","default","Array","Boolean","scrollY","computed","bgStyle","created","mounted","imageHeight","$refs","clientHeight","minTransalteY","RESERVED_HEIGHT","list","$el","top","methods","handlePlaylist","bottom","refresh","$router","randomPlay","pos","y","selectPlay","index","watch","newVal","scale","percent","zIndex","blur","min","layer","transform","filter","backdrop","paddingTop","height","playBtn","display","components","Scroll","Loading","SongList","component","disc","dissname","imgurl","_getSongList","dissid","code","push","_normalizeSongs","forEach","ret","MusicList"],"mappings":"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","file":"js/chunk-40758946.648dbc0b.js","sourcesContent":["// import jsonp from 'common/js/jsonp'\r\nimport { commonParams } from './config.js'\r\nimport axios from 'axios'\r\n\r\n// const debug = process.env.NODE_ENV !== 'production'\r\nconst debug = false;\r\n\r\n\r\n// export function getRecommend() {\r\n//   const url = 'https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg'\r\n//   const data = Object.assign({}, commonParams, {\r\n//     platform: 'h5',\r\n//     uin: 0,\r\n//     needNewCode: 1\r\n//   })\r\n//   return jsonp(url, data, options)\r\n// }\r\n\r\n// 获取轮播图(改接口了)\r\nexport function getRecommend () {\r\n  const url = debug ? '/api/getTopBanner' : 'http://music.zjutshideshan.cn/api/getTopBanner'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    platform: 'yqq.json',\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    inCharset: 'utf8',\r\n    format: 'json',\r\n    '-': 'recom' + (Math.random() + '').replace('0.', ''),\r\n    data: {\r\n      'comm': { 'ct': 24 },\r\n      'category': { 'method': 'get_hot_category', 'param': { 'qq': '' }, 'module': 'music.web_category_svr' },\r\n      'recomPlaylist': {\r\n        'method': 'get_hot_recommend',\r\n        'param': { 'async': 1, 'cmd': 2 },\r\n        'module': 'playlist.HotRecommendServer'\r\n      },\r\n      'playlist': {\r\n        'method': 'get_playlist_by_category',\r\n        'param': { 'id': 8, 'curPage': 1, 'size': 40, 'order': 5, 'titleid': 8 },\r\n        'module': 'playlist.PlayListPlazaServer'\r\n      },\r\n      'new_song': { 'module': 'newsong.NewSongServer', 'method': 'get_new_song_info', 'param': { 'type': 5 } },\r\n      'new_album': {\r\n        'module': 'newalbum.NewAlbumServer',\r\n        'method': 'get_new_album_info',\r\n        'param': { 'area': 1, 'sin': 0, 'num': 10 }\r\n      },\r\n      'new_album_tag': { 'module': 'newalbum.NewAlbumServer', 'method': 'get_new_album_area', 'param': {} },\r\n      'toplist': { 'module': 'musicToplist.ToplistInfoServer', 'method': 'GetAll', 'param': {} },\r\n      'focus': { 'module': 'QQMusic.MusichallServer', 'method': 'GetFocus', 'param': {} }\r\n    }\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return res.data\r\n  })\r\n}\r\n\r\n// 获取歌单\r\nexport function getDiscList() {\r\n  const url = debug ? '/api/getDiscList' : 'http://music.zjutshideshan.cn/api/getDiscList'\r\n  \r\n  const data = Object.assign({}, commonParams, {\r\n    platform: 'yqq',\r\n    hostUin: 0,\r\n    sin: 0,\r\n    ein: 29,\r\n    sortId: 5,\r\n    needNewCode: 0,\r\n    categoryId: 10000000,\r\n    rnd: Math.random(),\r\n    format: 'json'\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n\r\n// 获取歌单里面的歌曲\r\nexport function getSongList (disstid) {\r\n  const url = debug ? '/api/getCdInfo' : 'http://music.zjutshideshan.cn/api/getCdInfo'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    disstid,\r\n    type: 1,\r\n    json: 1,\r\n    utf8: 1,\r\n    onlysong: 0,\r\n    platform: 'yqq',\r\n    hostUin: 0,\r\n    needNewCode: 0\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-list\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_c('h1',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(_vm.title)}}),_c('div',{ref:\"bgImage\",staticClass:\"bg-image\",style:(_vm.bgStyle)},[_c('div',{staticClass:\"play-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.songs.length > 0),expression:\"songs.length > 0\"}],ref:\"playBtn\",staticClass:\"play\",on:{\"click\":_vm.random}},[_c('i',{staticClass:\"icon-play\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"随机播放全部\")])])]),_c('div',{ref:\"filter\",staticClass:\"filter\"})]),_c('div',{ref:\"layer\",staticClass:\"bg-layer\"}),_c('scroll',{ref:\"list\",staticClass:\"list\",attrs:{\"data\":_vm.songs,\"listen-scroll\":_vm.listenScroll,\"probe-type\":_vm.probeType},on:{\"scroll\":_vm.scroll}},[_c('div',{staticClass:\"song-list-wrapper\"},[_c('song-list',{attrs:{\"songs\":_vm.songs,\"rank\":_vm.rank},on:{\"select\":_vm.selectItem}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.songs.length),expression:\"!songs.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"music-list\">\r\n    <div class=\"back\" @click=\"back\">\r\n      <i class=\"icon-back\"></i>\r\n    </div>\r\n    <h1 class=\"title\" v-html=\"title\"></h1>\r\n    <div class=\"bg-image\" :style=\"bgStyle\" ref=\"bgImage\">\r\n      <div class=\"play-wrapper\">\r\n        <div\r\n          ref=\"playBtn\"\r\n          v-show=\"songs.length > 0\"\r\n          class=\"play\"\r\n          @click=\"random\"\r\n        >\r\n          <i class=\"icon-play\"></i>\r\n          <span class=\"text\">随机播放全部</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"filter\" ref=\"filter\"></div>\r\n    </div>\r\n    <div class=\"bg-layer\" ref=\"layer\"></div>\r\n    <scroll\r\n      :data=\"songs\"\r\n      @scroll=\"scroll\"\r\n      :listen-scroll=\"listenScroll\"\r\n      :probe-type=\"probeType\"\r\n      class=\"list\"\r\n      ref=\"list\"\r\n    >\r\n      <div class=\"song-list-wrapper\">\r\n        <song-list :songs=\"songs\" :rank=\"rank\" @select=\"selectItem\"></song-list>\r\n      </div>\r\n      <div v-show=\"!songs.length\" class=\"loading-container\">\r\n        <loading></loading>\r\n      </div>\r\n    </scroll>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Scroll from \"base/scroll/scroll\";\r\nimport Loading from \"base/loading/loading\";\r\nimport SongList from \"base/song-list/song-list\";\r\n// 适配不同浏览器\r\nimport { prefixStyle } from \"common/js/dom\";\r\nimport { mapActions } from \"vuex\";\r\nimport { playlistMixin } from \"common/js/mixin\";\r\n\r\nconst RESERVED_HEIGHT = 40;\r\nconst transform = prefixStyle(\"transform\");\r\nconst backdrop = prefixStyle(\"backdrop-filter\");\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  props: {\r\n    bgImage: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    songs: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    rank: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      scrollY: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    bgStyle() {\r\n      return `background-image:url(${this.bgImage})`;\r\n    },\r\n  },\r\n  created() {\r\n    this.probeType = 3;\r\n    this.listenScroll = true;\r\n  },\r\n  mounted() {\r\n    this.imageHeight = this.$refs.bgImage.clientHeight;\r\n    // layer的最大偏移量\r\n    this.minTransalteY = -this.imageHeight + RESERVED_HEIGHT;\r\n    this.$refs.list.$el.style.top = `${this.imageHeight}px`;\r\n  },\r\n  methods: {\r\n    handlePlaylist(playlist) {\r\n      const bottom = playlist.length > 0 ? \"60px\" : \"\";\r\n      this.$refs.list.$el.style.bottom = bottom;\r\n      this.$refs.list.refresh();\r\n    },\r\n    back() {\r\n      this.$router.back();\r\n    },\r\n    random() {\r\n      this.randomPlay({\r\n        list: this.songs,\r\n      });\r\n    },\r\n    scroll(pos) {\r\n      this.scrollY = pos.y;\r\n    },\r\n    selectItem(song, index) {\r\n      this.selectPlay({\r\n        list: this.songs,\r\n        index,\r\n      });\r\n    },\r\n    ...mapActions([\"selectPlay\", \"randomPlay\"]),\r\n  },\r\n  watch: {\r\n    scrollY(newVal) {\r\n      let translateY = Math.max(this.minTransalteY, newVal);\r\n      let scale = 1;\r\n      let zIndex = 0;\r\n      let blur = 0;\r\n      const percent = Math.abs(newVal / this.imageHeight);\r\n      if (newVal > 0) {\r\n        // 往下拉的时候\r\n        // scale = 1 + percent 保证了下拉的时候，图片的高度与列表相契合\r\n        scale = 1 + percent;\r\n        zIndex = 10;\r\n      } else {\r\n        // 往上滑的时候\r\n        blur = Math.min(20, percent * 20);\r\n      }\r\n\r\n      this.$refs.layer.style[transform] = `translate3d(0,${translateY}px,0)`;\r\n      this.$refs.filter.style[backdrop] = `blur(${blur}px)`;\r\n      // 当移动到最顶部的时候\r\n      if (newVal < this.minTransalteY) {\r\n        zIndex = 10;\r\n        this.$refs.bgImage.style.paddingTop = 0;\r\n        this.$refs.bgImage.style.height = `${RESERVED_HEIGHT}px`;\r\n        this.$refs.playBtn.style.display = \"none\";\r\n      } else {\r\n        this.$refs.bgImage.style.paddingTop = \"70%\";\r\n        this.$refs.bgImage.style.height = 0;\r\n        this.$refs.playBtn.style.display = \"\";\r\n      }\r\n      this.$refs.bgImage.style[transform] = `scale(${scale})`;\r\n      this.$refs.bgImage.style.zIndex = zIndex;\r\n    },\r\n  },\r\n  components: {\r\n    Scroll,\r\n    Loading,\r\n    SongList,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n@import '~common/stylus/variable';\r\n@import '~common/stylus/mixin';\r\n\r\n.music-list {\r\n  position: fixed;\r\n  z-index: 100;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background: $color-background;\r\n\r\n  .back {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 6px;\r\n    z-index: 50;\r\n\r\n    .icon-back {\r\n      display: block;\r\n      padding: 10px;\r\n      font-size: $font-size-large-x;\r\n      color: $color-theme;\r\n    }\r\n  }\r\n\r\n  .title {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 10%;\r\n    z-index: 40;\r\n    width: 80%;\r\n    no-wrap();\r\n    text-align: center;\r\n    line-height: 40px;\r\n    font-size: $font-size-large;\r\n    color: $color-text;\r\n  }\r\n\r\n  .bg-image {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 0;\r\n    padding-top: 70%;\r\n    transform-origin: top;\r\n    background-size: cover;\r\n\r\n    .play-wrapper {\r\n      position: absolute;\r\n      bottom: 20px;\r\n      z-index: 50;\r\n      width: 100%;\r\n\r\n      .play {\r\n        box-sizing: border-box;\r\n        width: 135px;\r\n        padding: 7px 0;\r\n        margin: 0 auto;\r\n        text-align: center;\r\n        border: 1px solid $color-theme;\r\n        color: $color-theme;\r\n        border-radius: 100px;\r\n        font-size: 0;\r\n\r\n        .icon-play {\r\n          display: inline-block;\r\n          vertical-align: middle;\r\n          margin-right: 6px;\r\n          font-size: $font-size-medium-x;\r\n        }\r\n\r\n        .text {\r\n          display: inline-block;\r\n          vertical-align: middle;\r\n          font-size: $font-size-small;\r\n        }\r\n      }\r\n    }\r\n\r\n    .filter {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      background: rgba(7, 17, 27, 0.4);\r\n    }\r\n  }\r\n\r\n  .bg-layer {\r\n    position: relative;\r\n    height: 100%;\r\n    background: $color-background;\r\n  }\r\n\r\n  .list {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    background: $color-background;\r\n\r\n    .song-list-wrapper {\r\n      padding: 20px 30px;\r\n    }\r\n\r\n    .loading-container {\r\n      position: absolute;\r\n      width: 100%;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./music-list.vue?vue&type=template&id=23cc0718&scoped=true&\"\nimport script from \"./music-list.vue?vue&type=script&lang=js&\"\nexport * from \"./music-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./music-list.vue?vue&type=style&index=0&id=23cc0718&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23cc0718\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=style&index=0&id=23cc0718&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"appear\":\"\",\"name\":\"slide\"}},[_c('music-list',{attrs:{\"title\":_vm.title,\"bg-image\":_vm.bgImage,\"songs\":_vm.songs}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition appear name=\"slide\">\r\n    <music-list :title=\"title\" :bg-image=\"bgImage\" :songs=\"songs\"></music-list>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport MusicList from \"components/music-list/music-list\";\r\nimport { getSongList } from \"api/recommend\";\r\nimport { ERR_OK } from \"api/config\";\r\nimport { mapGetters } from \"vuex\";\r\nimport { createSong, isValidMusic, processSongsUrl } from \"common/js/song\";\r\nexport default {\r\n  computed: {\r\n    title() {\r\n      return this.disc.dissname;\r\n    },\r\n    bgImage() {\r\n      return this.disc.imgurl;\r\n    },\r\n    ...mapGetters([\"disc\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      songs: [],\r\n    };\r\n  },\r\n  created() {\r\n    this._getSongList();\r\n  },\r\n  methods: {\r\n    _getSongList() {\r\n      if (!this.disc.dissid) {\r\n        this.$router.push(\"/recommend\");\r\n        return;\r\n      }\r\n      getSongList(this.disc.dissid).then((res) => {\r\n        if (res.code === ERR_OK) {\r\n          processSongsUrl(this._normalizeSongs(res.cdlist[0].songlist)).then(\r\n            (songs) => {\r\n              this.songs = songs;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n    _normalizeSongs(list) {\r\n      let ret = [];\r\n      list.forEach((musicData) => {\r\n        if (isValidMusic(musicData)) {\r\n          ret.push(createSong(musicData));\r\n        }\r\n      });\r\n      return ret;\r\n    },\r\n  },\r\n  components: {\r\n    MusicList,\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./disc.vue?vue&type=template&id=487b0790&\"\nimport script from \"./disc.vue?vue&type=script&lang=js&\"\nexport * from \"./disc.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}